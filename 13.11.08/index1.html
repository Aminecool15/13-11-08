<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Draggable Hello Kitty ‚Äî Responsive</title>

  <!-- Police -->
  <link href="https://fonts.googleapis.com/css?family=Bubblegum+Sans" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom Tailwind Configuration for font-family -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'bubblegum': ['"Bubblegum Sans"', 'system-ui', '-apple-system', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', 'sans-serif'],
          },
          colors: {
            'hk-pink-light': '#ffb6d5', // Original body background
            'hk-pink-medium': '#ff66aa', // Button base
            'hk-pink-dark': '#e04e90', // Button hover
            'hk-pink-accent': '#f61d71', // SVG elements
            'hk-red': '#f90803', // SVG elements
            'hk-blue': '#3ba2f7', // SVG elements
            'hk-green': '#83f9dc', // SVG elements
            'hk-light-pink': '#ffd6ea', // Secondary button
          }
        }
      }
    }
  </script>

  <style>
    /* Reset basique */
    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

    html, body { height: 100%; }

    body {
      background: #ffb6d5; /* Using original color for precise match, Tailwind config is for utility classes */
      color: #111;
      font-family: "Bubblegum Sans", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    h1 {
      /* Further increased min size for better mobile readability */
      font-size: clamp(28px, 7vw, 38px); 
      text-align: center;
      margin: 10px 8px 14px;
      line-height: 1.1;
    }

    /* Conteneur SVG responsive */
    .svg-wrap {
      width: 100%;
      display: block;
      background: transparent;
      border-radius: 12px;
      overflow: hidden;
      touch-action: none; /* important pour drag sur mobile */
    }

    svg {
      display: block;
      width: 100%;
      height: auto; /* conserve proportions du viewBox */
      max-width: 100%;
      user-select: none;
      -webkit-user-drag: none;
      touch-action: none; /* permet pointer events sur √©l√©ments SVG */
    }

    /* Draggables */
    .drag {
      cursor: grab;
      touch-action: none; /* important pour le drag */
    }
    .drag:active { cursor: grabbing; }

    /* Petite aide en bas */
    .hint {
      text-align:center;
      color:#666;
      margin-top:8px;
      padding-bottom:6px;
    }

    /* Optionnel : r√©duire les traits SVG sur petit √©cran pour lisibilit√© */
    @media (max-width:420px){
      svg [stroke-width] { stroke-width: 1.8 !important; } /* att√©nuer si besoin */
    }

    /* === Heart Rain Styles === */
    /* Container for all hearts, fixed in the background */
    #hearts-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden; /* Hide hearts that are outside the viewport */
      z-index: -1; /* Ensures hearts are visually behind main content */
      pointer-events: none; /* Crucial: allows clicks/interactions on content underneath */
    }

    /* Individual heart styling */
    .heart {
      position: absolute;
      display: block;
      opacity: 0.8;
      top: -50px; /* Start hearts slightly above the visible viewport */
      /* Base heart shape rotation (45deg) combined with random rotation from JS */
      transform: rotate(45deg) rotate(var(--random-rotation, 0deg));
      transform-origin: center; /* Ensures rotation occurs around the heart's center */
      animation-name: fall;
      animation-timing-function: linear;
      /* animation-duration (speed) and left position are set by JavaScript */
    }

    /* Heart shape is created using pseudo-elements */
    .heart::before,
    .heart::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: inherit; /* Inherit color from the parent .heart div */
      border-radius: 50%; /* Makes the pseudo-elements circular */
    }

    .heart::before {
      top: -50%;
      left: 0;
    }

    .heart::after {
      top: 0;
      left: 50%;
    }

    /* Animation Keyframes for the falling motion */
    @keyframes fall {
      0% {
        transform: rotate(45deg) rotate(var(--random-rotation, 0deg)); /* Maintain heart shape and initial random rotation */
        top: -50px; /* Start point */
        opacity: 0.8;
      }
      100% {
        transform: rotate(45deg) rotate(var(--random-rotation, 0deg)); /* Maintain heart shape and initial random rotation */
        top: 105vh; /* Falls slightly below the viewport to disappear smoothly */
        opacity: 0; /* Fades out as it falls */
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start p-3 font-bubblegum text-gray-900">
  <!-- Heart rain container. Placed early in body to ensure it's behind other content via z-index. -->
  <div id="hearts-container"></div>

  <div class="page w-full max-w-3xl mx-auto relative z-10 text-base sm:text-lg">
    <h1 class="text-center my-4 leading-tight">Pr√©pare sa tenue pour sa rencontre avec son bias</h1>

    <div class="svg-wrap w-full block bg-transparent rounded-xl overflow-hidden touch-none shadow-xl border-2 border-pink-400">
      <!-- == Le SVG original (inchang√©) - responsive gr√¢ce au viewBox et au CSS ci-dessus == -->
      <svg id="helloKittySvg" viewBox="0 0 1280 798" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
           clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5">
        <!-- (Ton SVG complet copi√© tel quel) -->
  <g transform="translate(0 -2.018)">
    <g id="kitty" transform="translate(-205.251 -179.567)">
      <path d="M814.599 537.236s-26.83 59.85-18.082 73.419c9.546 14.806 9.927 13.154 17.792 14.774 12.676 2.61 34.064-1.645 33.937-1.67l.233-30.656-.233 30.656s33.545 3.472 38.742 1.327c2.786-1.149 9.194-6.648 12.343-14.317 2.957-7.204 2.808-16.437 1.012-22.379-3.707-12.268-17.73-50.045-17.73-50.045-23.768 3.302-46.47 3.035-68.014-1.109z" fill="#fff" stroke="#000" stroke-width="4.5"/>
      <path d="M808.064 536.983s-10.107 12.462-16.013 13.65c-4.637.934-13.232-.875-14.938 5.026-.894 3.094 3.616 9.767 3.616 9.767-3.21.379-7.131 13.458-1.674 16.504 3.612 2.017 13.059 7.317 16.407 3.226 5.849-7.148 18.688-46.109 18.688-46.109l-6.086-2.064zM888.706 536.316s10.107 12.462 16.013 13.65c4.637.934 13.232-.875 14.938 5.026.894 3.094-3.616 9.767-3.616 9.767 3.21.379 7.131 13.458 1.674 16.504-3.612 2.017-13.059 7.317-16.407 3.226-5.849-7.148-18.688-46.11-18.688-46.11l6.086-2.063z" fill="#fff" stroke="#000" stroke-width="4.5"/>
      <path d="M846.419 421.648c50.704 0 91.873 23.194 91.873 60.536 0 37.341-42.137 56.376-92.84 56.376-50.704 0-90.897-19.035-90.897-56.376 0-37.342 41.16-60.536 91.864-60.536z" fill="#fff" stroke="#060000" stroke-width="3.65" transform="matrix(.89619 0 0 1.01801 90.55 -8.824)"/>
      <path id="ear-2" d="M775.94 452.914s-5.537-35.201 5.516-39.335c11.052-4.134 36.772 12.865 36.772 12.865.671 34.623-14.452 41.64-42.288 26.47z" fill="#fff" stroke="#060000" stroke-width="3.5"/>
      <ellipse cx="801.684" cy="446.328" rx="23.033" ry="22.78" fill="#fff"/>
      <path d="M922.7 451.887s5.537-35.201-5.516-39.335c-11.052-4.134-36.772 12.865-36.772 12.865-1.584 29.525 14.696 35.464 42.288 26.47z" fill="#fff" stroke="#060000" stroke-width="3.5" id="ear-1"/>
      <ellipse cx="808.458" cy="495.715" rx="5.086" ry="7.1" class="iris" id="eye-2" transform="translate(.94 1.992)"/>
      <ellipse id="nose" cx="849.266" cy="512.63" rx="9.543" ry="6.942" fill="#fad426" stroke="#000" stroke-width="2"/>
      <ellipse cx="808.458" cy="495.715" rx="5.086" ry="7.1" class="iris" id="eye-1" transform="translate(80.154 2.088)"/>
      <path d="M780.71 489.032s-16.438-1.742-20.263-.524M915.46 486.213s16.438-1.742 20.263-.524M780.351 504.308s-16.438-1.742-20.263-.524M915.82 501.49s16.438-1.742 20.263-.524M784.296 517.187s-16.438-1.742-20.263-.524M911.88 514.369s16.438-1.742 20.263-.524" fill="none" stroke="#000" stroke-width="4.5"/>
      <ellipse cx="801.684" cy="446.328" rx="23.033" ry="22.78" fill="#fff" transform="translate(94.738 -2.024)"/>
    </g>
    <g id="p-bow" class="drag" transform="translate(626.641 319.982)">
      <path d="M317.256 22.06c9.305 0 32.569 34.262 27.916 41.114-4.653 6.853-51.179 6.853-55.832 0-4.653-6.852 18.611-41.114 27.916-41.114z" fill="#f61d71" stroke="#000" stroke-width="3.27" transform="matrix(.36744 -.77303 -.88136 -.41893 140.592 321.208)"/>
      <ellipse cx="226.982" cy="57.606" rx="7.76" ry="7.989" fill="#f61d71" stroke="#000" stroke-width="1.5" transform="translate(-2.858 .016)"/>
      <path d="M317.256 22.06c9.305 0 32.569 34.262 27.916 41.114-4.653 6.853-51.179 6.853-55.832 0-4.653-6.852 18.611-41.114 27.916-41.114z" fill="#f61d71" stroke="#000" stroke-width="3.27" transform="matrix(.5009 .69404 -.7913 .57109 151.09 -173.539)"/>
      <ellipse cx="226.982" cy="57.606" rx="7.76" ry="7.989" fill="#f61d71" stroke="#000" stroke-width="1.5" transform="translate(35.653 14.287)"/>
      <path d="M263.878 53.56a7.457 7.457 0 0 0-7.454-7.453h-14.907a7.457 7.457 0 0 0-7.453 7.453v15.693a7.457 7.457 0 0 0 7.453 7.454h14.907a7.457 7.457 0 0 0 7.454-7.454V53.56z" fill="#f61d71" stroke="#000" stroke-width="2.83" transform="matrix(1.00418 .38434 -.37315 .97496 15.604 -90.95)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(-1.253 25.855)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(24.243 15.007)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(33.4 30.708)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(52.228 46.651)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(67.205 37.47)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(66.269 23.155)"/>
    </g>
    <g id="b-bow" class="drag">
      <path d="M317.256 22.06c9.305 0 32.569 34.262 27.916 41.114-4.653 6.853-51.179 6.853-55.832 0-4.653-6.852 18.611-41.114 27.916-41.114z" fill="#3ba2f7" stroke="#000" stroke-width="3.27" transform="matrix(.36744 -.77303 -.88136 -.41893 765.243 753.101)"/>
      <ellipse cx="226.982" cy="57.606" rx="7.76" ry="7.989" fill="#3ba2f7" stroke="#000" stroke-width="1.5" transform="translate(621.793 431.91)"/>
      <path d="M317.256 22.06c9.305 0 32.569 34.262 27.916 41.114-4.653 6.853-51.179 6.853-55.832 0-4.653-6.852 18.611-41.114 27.916-41.114z" fill="#3ba2f7" stroke="#000" stroke-width="3.27" transform="matrix(.5009 .69404 -.7913 .57109 775.741 258.354)"/>
      <ellipse cx="226.982" cy="57.606" rx="7.76" ry="7.989" fill="#3ba2f7" stroke="#000" stroke-width="1.5" transform="translate(660.304 446.18)"/>
      <path d="M263.878 53.56a7.457 7.457 0 0 0-7.454-7.453h-14.907a7.457 7.457 0 0 0-7.453 7.453v15.693a7.457 7.457 0 0 0 7.453 7.454h14.907a7.457 7.457 0 0 0 7.454-7.454V53.56z" fill="#3ba2f7" stroke="#000" stroke-width="2.83" transform="matrix(1.00418 .38434 -.37315 .97496 640.255 340.943)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(624.651 431.893)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(623.398 457.748)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(648.894 446.9)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(658.05 462.601)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(676.879 478.544)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(691.856 469.363)"/>
      <ellipse cx="214.111" cy="40.678" rx="4.939" ry="5.225" fill="#fff" stroke="#fff" transform="translate(690.92 455.048)"/>
    </g>
    <g id="s-shirt" class="drag">
      <path d="M391.354 276.786l-24.48 8.268s10.269 21.015 13.981 16.99c3.757-4.073 10.499-25.258 10.499-25.258zM461.21 281.247l9.278 20.314 18.654-15.626s-27.683-7.905-27.932-4.688" fill="#fbfbfb" stroke="#060000" stroke-width="2.5"/>
      <path d="M391.828 276.814s-15.017 39.539-14.734 39.653c3.341 1.338 13.032.044 25.343 1.278 31.553 3.16 83.845 2.986 74.945-1.905l-16.797-35.711-26.965-.804-6.543 10.048-11.671-10.202-23.578-2.357z" fill="#fbfbfb" stroke="#060000" stroke-width="2.5"/>
      <path d="M266.636 427.142l22.116.7 1.005-16.466-23.121 15.766 10.335-7.047s-17.915-6.399-2.648-14.934c8.058-4.505 15.493 5.373 15.434 6.215" fill="#f84e4a" stroke="#060000" stroke-width="2.36" transform="matrix(1.11656 0 0 1 101.859 -117.76)"/>
      <path d="M266.636 427.142l22.116.7 1.005-16.466-23.121 15.766 10.335-7.047s-17.915-6.399-2.648-14.934c8.058-4.505 15.493 5.373 15.434 6.215" fill="#f84e4a" stroke="#060000" stroke-width="2.37" transform="matrix(-1.10851 0 0 1 748.246 -117.388)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#f84e4a" stroke="#060000" stroke-width="2" transform="translate(133.041 -120.88)"/>
      <path d="M390.904 279.25l30.792 12.314.434-6.432-6.21-6.153-25.095-2.032M460.585 281.064l-30.953 11.903-.348-6.437 6.29-6.07 25.01.604z" fill="#020168" stroke="#060000" stroke-width="2.5"/>
    </g>
    <g id="r-shirt" class="drag">
      <path d="M387.077 216.698l-24.48 8.268s10.269 21.015 13.981 16.99c3.757-4.073 10.499-25.258 10.499-25.258zM456.933 221.159l9.278 20.314 18.654-15.626s-27.683-7.905-27.932-4.688" fill="#f90803" stroke="#060000" stroke-width="2.5"/>
      <path d="M387.551 216.726s-15.017 39.539-14.734 39.653c3.341 1.338 13.032.044 25.343 1.278 31.553 3.16 83.845 2.986 74.945-1.905l-16.797-35.711-26.655.26-9.062-.066-11.027-1.084-22.013-2.425z" fill="#f90803" stroke="#060000" stroke-width="2.5"/>
      <path d="M388.921 216.877c-.085.775 26.257 15.194 26.257 15.194l6.217-10.906s-32.388-5.064-32.474-4.288z" fill="#fff" stroke="#060000" stroke-width="2"/>
      <path d="M210.706 528.536c-.085.775 26.257 15.194 26.257 15.194l6.217-10.906s-32.388-5.064-32.474-4.288z" fill="#fff" stroke="#060000" stroke-width="1.94" transform="matrix(-1.00513 -.15349 -.1575 1.03142 751.49 -291.768)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#fff" transform="matrix(.706 0 0 .706 214.653 -52.483)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#fff" transform="matrix(.706 0 0 .706 214.532 -45.784)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#fff" transform="matrix(.706 0 0 .706 214.412 -39.086)"/>
      <path d="M486.745 229.679a1.734 1.734 0 0 0 .218-2.442l-2.221-2.66a1.734 1.734 0 0 0-2.441-.22l-15.809 13.205a1.734 1.734 0 0 0-.219 2.44l2.222 2.66a1.735 1.735 0 0 0 2.442.22l15.808-13.203zM366.844 223.02a1.734 1.734 0 0 0-2.387-.559l-2.945 1.828a1.734 1.734 0 0 0-.558 2.386l10.86 17.5a1.734 1.734 0 0 0 2.387.56l2.945-1.828a1.735 1.735 0 0 0 .56-2.387l-10.862-17.5z" fill="#fff" stroke="#060000" stroke-width="2"/>
    </g>
    <g id="w-shirt" class="drag">
      <path d="M386.877 337.785l-24.48 8.268s10.269 21.015 13.981 16.991c3.757-4.074 10.499-25.259 10.499-25.259zM456.733 342.246l9.278 20.314 18.654-15.626s-27.683-7.905-27.932-4.688" fill="#fbfbfb" stroke="#060000" stroke-width="2.5"/>
      <path d="M387.351 337.813s-15.017 39.54-14.734 39.653c3.341 1.338 13.032.044 25.343 1.278 31.553 3.161 83.845 2.986 74.945-1.905l-16.797-35.71-26.655.26-9.062-.067-11.027-1.084-22.013-2.425z" fill="#fbfbfb" stroke="#060000" stroke-width="2.5"/>
      <path d="M454.284 356.19a2.328 2.328 0 0 0-2.327-2.326h-7.713a2.328 2.328 0 0 0-2.327 2.326v4.653a2.328 2.328 0 0 0 2.327 2.326h7.713a2.328 2.328 0 0 0 2.327-2.326v-4.653z" fill="#fbfbfb" stroke="#060000" stroke-width="2"/>
      <path d="M388.721 337.964c-.085.775 26.257 15.194 26.257 15.194l6.217-10.906s-32.388-5.064-32.474-4.288z" fill="#fff" stroke="#060000" stroke-width="2"/>
      <path d="M210.706 528.536c-.085.775 26.257 15.194 26.257 15.194l6.217-10.906s-32.388-5.064-32.474-4.288z" fill="#fff" stroke="#060000" stroke-width="1.94" transform="matrix(-1.00513 -.15349 -.1575 1.03142 751.29 -170.68)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#060000" transform="matrix(.706 0 0 .706 214.453 68.604)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#060000" transform="matrix(.706 0 0 .706 214.332 75.303)"/>
      <ellipse cx="292.865" cy="412.053" rx="3.553" ry="3.504" fill="#060000" transform="matrix(.706 0 0 .706 214.212 82.001)"/>
    </g>
    <g id="r-bow" class="drag">
      <path d="M853.662 264.874s-12.629-19.103-17.797-16.888c-5.167 2.215-4.069 6.173-4.142 11.51-.048 3.513-8.591-1.474-10.907 3.305-2.319 4.786.356 10.345 2.86 12.612 2.505 2.268-8.811 1.76-6.536 8.173 2.118 5.97 10.875 7.698 27.734 2.364 16.858-5.334 8.788-21.076 8.788-21.076zM885.441 275.099s22.279-5.3 24.534-.149c2.255 5.15-1.253 7.287-4.85 11.23-2.368 2.596 7.276 4.8 5.697 9.87-1.582 5.078-7.335 7.304-10.713 7.246-3.378-.059 5.225 7.31-.821 10.433-5.628 2.906-13.199-1.822-21.85-17.244-8.65-15.421 8.003-21.386 8.003-21.386z" fill="#f81f02" stroke="#060000" stroke-width="2.5"/>
      <ellipse cx="289.895" cy="328.517" rx="15.687" ry="17.93" fill="#f74203" stroke="#060000" stroke-width="2.22" transform="matrix(1.23802 0 0 1 505.827 -49.519)"/>
    </g>
    <g id="mermaid" class="drag">
      <path d="M477.91 575.404s-.049 14.281 9.447 17.963c4.171 1.617 16.81 5.56 27.117 7.566 13.157 2.56 20.902 6.608 24.43 6.006 3.338-.57-2.5-2.467-3.269-9.62-1.097-10.212 1.393-21.288-1.558-26.655-4.24-7.714-25.277-18.479-25.277-18.479-.542 4.067 21.851-5.626 27.545-17.865 2.813-6.049.473-14.489 1.872-19.925 1.186-4.606 11.261-12.296 6.521-12.69-5.268-.439-29.116 7.26-38.132 10.058-16.217 5.673-22.696 20.115-24.249 38.993l-4.447 24.649M431.277 516.036a3.063 3.063 0 0 0-2.583-3.476s-41.679-6.661-50.71-7.477c-1.438-.13-2.825 1.295-3.476 2.582-.728 1.44-1.175 4.47-.894 6.059.253 1.42 1.17 3.185 2.583 3.476 8.883 1.825 50.71 7.477 50.71 7.477a3.063 3.063 0 0 0 3.477-2.583l.893-6.058z" fill="#83f9dc" stroke="#000" stroke-width="3.5"/>
      <path d="M419.163 527.588c0-1.69-1.531-3.062-3.416-3.062 0 0-41.556-.51-50.551 0-1.527.087-2.883 1.629-3.416 3.062-.569 1.531-.569 4.593 0 6.124.533 1.433 1.889 2.975 3.416 3.062 8.995.51 50.551 0 50.551 0 1.885 0 3.416-1.372 3.416-3.062v-6.124z" fill="#83f9dc" stroke="#000" stroke-width="3.69" transform="matrix(-.87994 .1712 .19098 .9816 698.17 -73.688)"/>
      <path d="M376.415 517.524s-20.657 43.41 28.207 61.073c48.864 17.663 76.494-5.99 77.791-5.73 1.298.26 14.437-3.683 12.394-19.548-.62-4.82-.968.627-3.162-1.621-2.213-2.268-6.846.83-6.846.83l-3.175 2.644s1.262-40.127-3.22-41.445c-2.159-.635-21.848 2.944-45.867 4.004-25.872 1.14-56.122-.207-56.122-.207z" fill="#3bd0a2" stroke="#000" stroke-width="4.5"/>
      <path d="M375.642 551.504c0 .5.359 1.205.459 1.729.523 2.74 2.521 2.126 4.435.85.236-.157 1.188-1.22 1.3-1.163.793.396.397 2.45 1.54 2.842.926.318 2.45.194 3.165-.532.146-.149.97-1.352 1.152-1.17.503.504.848 1.735 1.462 2.042 1.104.552 4.588.5 4.588-1.113" fill="none" stroke="#39a890" stroke-opacity=".38" stroke-width="1.74" transform="matrix(1.39967 0 0 .82315 -144.373 79.089)"/>
      <path d="M375.642 551.504c0 .5.359 1.205.459 1.729.523 2.74 2.521 2.126 4.435.85.236-.157 1.188-1.22 1.3-1.163.793.396.397 2.45 1.54 2.842.926.318 2.45.194 3.165-.532.146-.149.97-1.352 1.152-1.17.503.504.848 1.735 1.462 2.042 1.104.552 4.588.5 4.588-1.113" fill="none" stroke="#39a890" stroke-opacity=".38" stroke-width="1.74" transform="matrix(1.39967 0 0 .82315 -127.88 98.793)"/>
      <path d="M375.642 551.504c0 .5.359 1.205.459 1.729.523 2.74 2.521 2.126 4.435.85.236-.157 1.188-1.22 1.3-1.163.793.396.397 2.45 1.54 2.842.926.318 2.45.194 3.165-.532.146-.149.97-1.352 1.152-1.17.503.504.848 1.735 1.462 2.042 1.104.552 4.588.5 4.588-1.113" fill="none" stroke="#39a890" stroke-opacity=".38" stroke-width="1.74" transform="matrix(1.39967 0 0 .82315 -94.835 80.375)"/>
      <path d="M375.642 551.504c0 .5.359 1.205.459 1.729.523 2.74 2.521 2.126 4.435.85.236-.157 1.188-1.22 1.3-1.163.793.396.397 2.45 1.54 2.842.926.318 2.45.194 3.165-.532.146-.149.97-1.352 1.152-1.17.503.504.848 1.735 1.462 2.042 1.104.552 4.588.5 4.588-1.113" fill="none" stroke="#39a890" stroke-opacity=".38" stroke-width="1.74" transform="matrix(1.39967 0 0 .82315 -78.765 102.623)"/>
    </g>
    <g id="glasses" class="drag">
      <path fill="none" stroke="#000" stroke-width="2.5" d="M801.506 581.416h34.278v23.688h-34.278zM879.22 581.497h34.278v23.688H879.22z"/>
      <path d="M836.993 319.949l41.57.278" fill="none" stroke="#000" stroke-width="2.86" transform="matrix(.9674 0 0 .77007 28.133 345.95)"/>
    </g>
    <g id="dress" class="drag">
      <g transform="translate(-464.944 153.649)">
        <ellipse cx="872.165" cy="253.122" rx="20.43" ry="12.773" fill="#f33a7a" stroke="#000" stroke-width="2.5" transform="translate(1.048 -1.609)"/>
        <ellipse cx="872.165" cy="253.122" rx="20.43" ry="12.773" fill="#f33a7a" stroke="#000" stroke-width="2.5" transform="translate(41.97 .202)"/>
        <path d="M850.01 252.697s8.596-16.15 6.564-19.777c-2.032-3.628-12.192-4.01-18.756-1.988-2.312 8.723 2.208 15.873 12.192 21.765zM935.94 254.858s-8.596-16.15-6.564-19.777c2.032-3.628 12.192-4.01 18.756-1.988 2.312 8.723-2.208 15.873-12.192 21.765z" fill="#f33a7a" stroke="#000" stroke-width="2.5"/>
        <path d="M839.017 242.361s-9.33-1.303-9.299 1.528c.032 2.831 3.939 10.202 9.489 15.461l10.173-6.408-10.363-10.581zM946.933 244.522s9.33-1.303 9.299 1.528c-.032 2.83-3.939 10.202-9.489 15.46l-10.173-6.407 10.363-10.581z" fill="#f8a3a5" stroke="#000" stroke-width="2.5"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(9.972 1.684)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(19.944 3.368)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(29.747 4.215)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(63.281 6.402)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(74.149 6.692)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(84.774 6.49)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(95.398 6.288)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(106.023 6.086)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(116.648 5.884)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(127.273 5.682)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.38" transform="matrix(1.22671 .26367 -.16652 .77472 3.417 -143.04)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(41.171 4.912)"/>
        <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="translate(51.614 5.788)"/>
        <path d="M847.512 253.083l91.025 1.586 26.877 67.04c-52.068 7.885-101.721 5.562-149.644-4.066l31.742-64.56z" fill="#f8a3a5" stroke="#000" stroke-width="2.5"/>
        <path d="M821.474 306.04s.447-20.091 4.844-28.763c4.4-8.677 14.883-19.501 21.556-23.299 5.356-3.049 22.246-.082 22.246-.082l-48.646 52.144zM962.471 312.37s3.688-24.862-.709-33.534c-4.4-8.677-14.883-19.501-21.556-23.3-5.356-3.048-22.44-.616-22.44-.616l44.705 57.45z" fill="#f33a7a" stroke="#000" stroke-width="2.5"/>
      </g>
      <ellipse cx="830.055" cy="322.465" rx="5.315" ry="4.448" fill="#f8a3a5" stroke="#000" stroke-width="2.5" transform="matrix(1.28315 .04212 -.09373 .72264 -681.355 206.68)"/>
      <path d="M405.632 407.868s-9.43 14.356-17.683 32.236c-6.921 14.992-13.266 34.001-10.967 35.45 11.574 7.299 108.351 5.448 101.749 1.796 1.142.218-5.705-18.96-11.386-36.807-5.114-16.063-13.48-30.639-15.476-31.817-1.986-1.173-46.237-.858-46.237-.858z" fill="#fff" stroke="#000" stroke-width="2.5"/>
      <path d="M396.648 425.467c6.335 4.559 13.804 4.594 22.211.881 7.412 4.113 14.779 5.162 22.06.47 7.652 3.758 14.32 3.803 19.713-.965" fill="none" stroke="#000" stroke-width="2.5"/>
      <path d="M861.592 271.818c6.335 4.559 13.804 4.594 22.211.881 7.412 4.113 14.779 5.162 22.06.47 7.652 3.758 14.32 3.803 19.713-.965" fill="none" stroke="#000" stroke-width="2.29" transform="matrix(1.17678 0 0 1 -623.935 168.444)"/>
      <path d="M861.592 271.818c6.335 4.559 13.804 4.594 22.211.881 7.412 4.113 14.779 5.162 22.06.47 7.652 3.758 14.32 3.803 19.713-.965" fill="none" stroke="#000" stroke-width="2.01" transform="matrix(1.44275 0 0 1 -862.375 189.372)"/>
    </g>
  </g>
      </svg>
    </div>

    <div class="flex flex-wrap justify-center gap-2 mt-4 mb-2">
        <button id="resetBtn" 
                class="bg-hk-light-pink hover:bg-hk-pink-light text-gray-800 font-bold py-2 px-4 rounded-full shadow-md transform hover:scale-105 transition-all duration-300 text-base">
            R√©initialiser üîÑ
        </button>
        <button id="hintBtn" 
                class="bg-hk-light-pink hover:bg-hk-pink-light text-gray-800 font-bold py-2 px-4 rounded-full shadow-md transform hover:scale-105 transition-all duration-300 text-base">
            Besoin d'aide ? ü§î
        </button>
    </div>

    <div class="text-center">
        <a href="html.html" 
           id="hug-btn" 
           class="inline-block w-fit mx-auto mt-4 py-3 px-6 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300 bg-hk-pink-medium hover:bg-hk-pink-dark text-white font-bold text-xl">
            Souffle tes bougies ! üïØÔ∏è
        </a>
    </div>

    <p class="hint text-base text-gray-600 mt-2">
        Glisse les accessoires sur Hello Kitty pour lui pr√©parer le look parfait.
    </p>

  </div>

  <script>
    // Define the clamp-based font size for h1 for consistent sizing
    document.documentElement.style.setProperty('--clamp-h1-min', '28px'); // Increased min size
    document.documentElement.style.setProperty('--clamp-h1-vw', '7vw');   // Slightly increased vw scaling
    document.documentElement.style.setProperty('--clamp-h1-max', '38px'); // Slightly increased max size
    
    // Default SVG viewBox dimensions
    const originalViewBoxWidth = 1280;
    const originalViewBoxHeight = 798;
    const mobileViewBoxWidth = 800; // Smaller viewBox width makes content appear larger
    const mobileViewBoxHeight = originalViewBoxHeight * (mobileViewBoxWidth / originalViewBoxWidth); // Maintain aspect ratio
    const breakpoint = 768; // Adjust viewBox for screens smaller than this

    /* Drag pour SVG (.drag) ‚Äî compatible desktop & mobile (pointer events) */
    (function(){
      const svg = document.getElementById('helloKittySvg'); // Get SVG by ID
      if (!svg) return;

      // Function to set the viewBox based on screen width
      function adjustSvgViewBox() {
        if (window.innerWidth <= breakpoint) {
          svg.setAttribute('viewBox', `0 0 ${mobileViewBoxWidth} ${mobileViewBoxHeight}`);
        } else {
          svg.setAttribute('viewBox', `0 0 ${originalViewBoxWidth} ${originalViewBoxHeight}`);
        }
      }

      // Initial adjustment
      adjustSvgViewBox();
      // Adjust on window resize
      window.addEventListener('resize', adjustSvgViewBox);


      // Convertit clientX/Y en coordonn√©es SVG
      function getSVGPoint(evt) {
        const pt = svg.createSVGPoint();
        pt.x = evt.clientX;
        pt.y = evt.clientY;
        return pt.matrixTransform(svg.getScreenCTM().inverse());
      }

      const draggables = svg.querySelectorAll('.drag');
      draggables.forEach(elem => {
        elem.style.touchAction = 'none'; // Prevent browser default touch actions like scrolling
        // Store original transform to reset later
        const orig = elem.getAttribute('transform') || '';
        elem.dataset.origTransform = orig;

        let dragging = false;
        let startPoint = null;
        let pointerId = null;
        let startTransform = '';

        elem.addEventListener('pointerdown', function (e) {
          e.preventDefault(); // Prevent default pointer event behavior
          elem.setPointerCapture(e.pointerId); // Capture pointer events for this element
          pointerId = e.pointerId;
          dragging = true;
          startPoint = getSVGPoint(e);
          startTransform = elem.getAttribute('transform') || elem.dataset.origTransform || '';
        });

        elem.addEventListener('pointermove', function (e) {
          if (!dragging || e.pointerId !== pointerId) return; // Only move if dragging and correct pointer
          e.preventDefault();
          const p = getSVGPoint(e);
          const dx = p.x - startPoint.x;
          const dy = p.y - startPoint.y;

          // Apply additional translation without overwriting original transforms
          // Concatenate: [original_transform] translate(dx dy)
          const newTransform = (startTransform ? startTransform + ' ' : '') + `translate(${dx} ${dy})`;
          elem.setAttribute('transform', newTransform);
        });

        function endDrag(e) {
          if (!dragging) return;
          try { elem.releasePointerCapture(pointerId); } catch(_) {} // Release pointer capture
          dragging = false;
          pointerId = null;

          // Commit: store the new transform as the 'original' for future drags
          const committed = elem.getAttribute('transform') || startTransform;
          elem.dataset.origTransform = committed;
          // For simplicity, we don't normalize transforms here (e.g., merging multiple 'translate' commands).
        }
        elem.addEventListener('pointerup', endDrag);
        elem.addEventListener('pointercancel', endDrag);
        elem.addEventListener('pointerleave', endDrag);
      });

      // Reset button functionality -> restores original positions
      const resetBtn = document.getElementById('resetBtn');
      resetBtn?.addEventListener('click', () => {
        draggables.forEach(el => {
          // If an initial transform was stored, restore it. Otherwise, clear any added transforms.
          if (el.dataset.initialTransform) {
            el.setAttribute('transform', el.dataset.initialTransform);
            el.dataset.origTransform = el.dataset.initialTransform; // Update origin for future drags
          } else {
            el.setAttribute('transform', ''); // Clear if no initial transform
            el.dataset.origTransform = '';
          }
        });
      });

      // On initial load, save the current 'transform' attribute of each draggable
      // This serves as the 'initial' state for the reset button
      draggables.forEach(el => {
        el.dataset.initialTransform = el.getAttribute('transform') || '';
      });

      // Hint button (just an alert for UX)
      document.getElementById('hintBtn')?.addEventListener('click', () => {
        alert("Astuce : touche l'accessoire puis glisse pour le placer sur Hello Kitty.");
      });

    })();


    // Function to create an animated pink heart for the background rain
    function createHeart() {
        const heart = document.createElement('div');
        heart.className = 'heart';
        
        const heartsContainer = document.getElementById('hearts-container');
        if (!heartsContainer) {
            console.error("Hearts container not found! Cannot start heart rain.");
            return;
        }

        // Random size for the heart (between 12px and 40px)
        const size = Math.random() * (40 - 12) + 12;
        heart.style.width = `${size}px`;
        heart.style.height = `${size}px`;
        
        // Random horizontal starting position (0vw to 100vw)
        heart.style.left = `${Math.random() * 100}vw`;
        
        // Random fall duration (speed: between 5 seconds and 13 seconds)
        const duration = Math.random() * 8 + 5;
        heart.style.animationDuration = `${duration}s`;
        
        // Random slight rotation for visual variation (-45deg to +45deg)
        const randomRotation = Math.random() * 90 - 45; 
        heart.style.setProperty('--random-rotation', `${randomRotation}deg`);
        
        // Pastel pink and variants from the existing design's palette
        const colors = ['#ff66aa', '#ffd6ea', '#f61d71', '#f84e4a', '#f33a7a', '#f8a3a5'];
        heart.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        
        heartsContainer.appendChild(heart);
        
        // Clean up: Remove heart from DOM once its animation completes to prevent memory leaks
        heart.addEventListener('animationend', () => {
            heart.remove();
        });
    }

    // Function to start the continuous heart rain effect
    function startRain() {
        // Adjust the interval to control the density of the heart rain
        setInterval(() => {
            createHeart(); // Create a base heart every 200ms
            // Introduce a chance to create additional hearts with slight delays for a denser and more dynamic effect
            if (Math.random() < 0.7) setTimeout(createHeart, Math.random() * 100);
            if (Math.random() < 0.4) setTimeout(createHeart, Math.random() * 200);
        }, 200); // Base interval of 200 milliseconds
    }

    // Ensure the DOM is fully loaded before starting the heart rain
    document.addEventListener('DOMContentLoaded', () => {
        startRain();

        // Apply clamp to h1 using CSS variables from JS
        const h1Element = document.querySelector('h1');
        if (h1Element) {
            h1Element.style.fontSize = `clamp(var(--clamp-h1-min), var(--clamp-h1-vw), var(--clamp-h1-max))`;
        }
    });

  </script>
</body>
</html>
